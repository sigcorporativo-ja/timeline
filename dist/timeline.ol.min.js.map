{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/timeline.html","webpack:///./src/impl/ol/js/timelinecontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/timelinecontrol.js","webpack:///./src/facade/js/timeline.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TimelineControl","M","impl","Control","map","html","this","olMap","getMapImpl","translations","en","es","getLang","res","language","getTranslation","lang","getValue","keyPath","translation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","options","isUndefined","TimelineImplControl","exception","running","animation","speed","intervals","template","Promise","success","fail","forEach","interval","k","layer","transformToLayers","copy","getMapLayer","undefined","removeLayers","addLayers","iv","number","tag","service","push","compileSync","vars","title","play","document","createElement","length","parseInt","dataset","querySelector","append","style","setProperty","slider","setAttribute","addEventListener","e","changeSlider","classList","add","remove","clearTimeout","playTimeline","label","newLayer","layerByObject","getLayers","filter","includes","isValidLayer","indexOf","urlLayer","toUpperCase","WMS","url","legend","WMTS","layerByName","displayInLayerSwitcher","setVisible","elem","left","min","max","display","step","parseFloat","getControls","render","innerHTML","layerSearch","getImpl","next","end","setTimeout","clearInterval","control","Timeline","Plugin","name_","map_","controls_","className","positions","position","isString","JSON","parse","replace","isArray","dialog","error","metadata_","api","metadata","tooltip_","tooltip","control_","panel_","ui","Panel","collapsible","collapsedButtonClass","addControls","addPanels","removeTimelineLayers","removeControls","layers","radius","stringify","activate","deactivate","plugin","window","M$plugin$Timeline","M$control$TimelineControl","M$impl$control$TimelineControl"],"mappings":"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","file":"timeline.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-timeline-container\\\">\\r\\n    <div id=\\\"m-timeline-title\\\">{{translations.title}}</div>\\r\\n    <div class=\\\"div-m-timeline-panel\\\">\\r\\n        <div class=\\\"div-m-timeline-slider\\\">\\r\\n            <input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" value=\\\"0\\\" step=\\\"any\\\" id=\\\"input-slider\\\"></input>\\r\\n            <div class='slider-tags'></div>\\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-names\\\">\\r\\n            \\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-button\\\">\\r\\n            <button id=\\\"m-timeline-play\\\" class=\\\"timeline-control-siguiente\\\" title=\\\"Iniciar paso del tiempo\\\"></button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","/**\r\n * @module M/impl/control/TimelineControl\r\n */\r\n\r\nexport default class TimelineControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  return translations[lang];\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/**\r\n * @module M/control/TimelineControl\r\n */\r\n\r\nimport TimelineImplControl from 'impl/timelinecontrol';\r\nimport template from 'templates/timeline';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class TimelineControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(options) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(TimelineImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new TimelineImplControl();\r\n    super(impl, 'Timeline');\r\n    this.running = false;\r\n    this.animation = options.animation;\r\n    this.speed = options.speed;\r\n    this.intervals = options.intervals;\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      let intervals = [];\r\n      this.intervals.forEach((interval, k) => {\r\n        const layer = this.transformToLayers(interval[2],interval[0]);\r\n        const copy = this.getMapLayer(layer);\r\n        if (copy !== undefined) {\r\n          this.map.removeLayers(copy);\r\n        }\r\n        this.map.addLayers(layer);\r\n        let iv = {\r\n          number: k,\r\n          name: interval[0],\r\n          tag: interval[1],\r\n          service: layer\r\n        }\r\n        intervals.push(iv);\r\n      });\r\n      this.intervals = intervals;\r\n      this.template = M.template.compileSync(template, {\r\n        vars: {\r\n          translations: {\r\n            title: getValue('title'),\r\n            play: getValue('play'),\r\n          }\r\n        }\r\n      });\r\n      this.intervals.forEach((interval, k) => {\r\n        let tag = document.createElement('div');\r\n        if (k != 0 && k != this.intervals.length - 1 && k != parseInt(this.intervals.length / 2)) {\r\n          tag.dataset.tag = '';\r\n        } else {\r\n          tag.dataset.tag = interval.tag;\r\n        }\r\n        this.template.querySelector('.slider-tags').append(tag);\r\n      });\r\n      this.template.querySelector('.div-m-timeline-panel').style.setProperty('--num', this.intervals.length);\r\n      const slider = this.template.querySelector('#input-slider');\r\n      slider.setAttribute('max', intervals.length - 1);\r\n      slider.addEventListener('input', (e) => this.changeSlider(slider));\r\n      slider.addEventListener('change', (e) => {\r\n        document.querySelector('.m-timeline-button button').classList.add('timeline-control-siguiente');\r\n        document.querySelector('.m-timeline-button button').classList.remove('timeline-control-pausa');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n        clearTimeout(this.running);\r\n        this.running = false;\r\n      });\r\n      const play = this.template.querySelector('#m-timeline-play');\r\n      play.addEventListener('click', (e) => this.playTimeline(false));\r\n      success(this.template);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Transform StringLayers to Mapea M.Layer\r\n   * \r\n   * WMTS*http://www.ign.es/wmts/pnoa-ma?*OI.OrthoimageCoverage*EPSG:25830*PNOA\r\n   * WMS*IGN*http://www.ign.es/wms-inspire/ign-base*IGNBaseTodo\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @param {string}\r\n   * @return\r\n   */\r\n  transformToLayers(layer,label) {\r\n    let newLayer = null;\r\n    if (!(layer instanceof Object)) {\r\n      if (layer.indexOf('*') >= 0) {\r\n        const urlLayer = layer.split('*');\r\n        if (urlLayer[0].toUpperCase() == 'WMS') {\r\n          newLayer = new M.layer.WMS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3],\r\n            legend: label\r\n          });\r\n        } else if (urlLayer[0].toUpperCase() == 'WMTS') {\r\n          newLayer = new M.layer.WMTS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3],\r\n            legend: label\r\n          });\r\n        }\r\n      } else {\r\n        const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\r\n        newLayer = this.isValidLayer(layerByName) ? layerByName : null;\r\n      }\r\n    } else if (layer instanceof Object) {\r\n      const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\r\n      newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\r\n    }\r\n    if (newLayer !== null) {\r\n      newLayer.displayInLayerSwitcher = false;\r\n      newLayer.setVisible(false);\r\n      return newLayer\r\n    } else {\r\n      this.map.removeLayers(layer);\r\n    }\r\n  }\r\n\r\n  /** This function change layers and show layer name when slider moves\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  changeSlider(elem) {\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n    const left = (((elem.value - elem.min) / (elem.max - elem.min)) * ((256 - 5) - 5)) + 5;\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n    if (this.animation || this.intervals[0].name !== '') {\r\n      document.querySelector('.m-timeline-names').style.display = 'block';\r\n    }\r\n    if (this.animation) {\r\n      document.querySelector('.m-timeline-button').style.display = 'block';\r\n    }\r\n    let step = parseFloat(elem.value);\r\n    this.intervals.forEach((interval) => {\r\n      this.getMapLayer(interval.service).setVisible(false);\r\n      this.getMapLayer(interval.service).displayInLayerSwitcher = false;\r\n      if(this.map.getControls({'name':'layerswitcher'}).length >0){\r\n        this.map.getControls({'name':'layerswitcher'})[0].render();\r\n      }\r\n      document.querySelector('.m-timeline-names').innerHTML = '';\r\n    });\r\n    if (step % 1 == 0) {\r\n      document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n      this.getMapLayer(this.intervals[step].service).setVisible(true);\r\n      this.getMapLayer(this.intervals[step].service).displayInLayerSwitcher = true;\r\n      if(this.map.getControls({'name':'layerswitcher'}).length >0){\r\n        this.map.getControls({'name':'layerswitcher'})[0].render();\r\n      }\r\n      document.querySelector('.m-timeline-names').innerHTML = this.intervals[step].name;\r\n      document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[step].tag + '\"');\r\n      if (this.intervals[step].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      }\r\n    } else {\r\n      this.getMapLayer(this.intervals[parseInt(step)].service).setVisible(true);\r\n      this.getMapLayer(this.intervals[parseInt(step)].service).displayInLayerSwitcher = true;\r\n      this.getMapLayer(this.intervals[parseInt(step) + 1].service).setVisible(true);\r\n      this.getMapLayer(this.intervals[parseInt(step) + 1].service).displayInLayerSwitcher = true;\r\n      if(this.map.getControls({'name':'layerswitcher'}).length >0){\r\n        this.map.getControls({'name':'layerswitcher'})[0].render();\r\n      }\r\n      if (this.intervals[parseInt(step)].tag !== '' && this.intervals[parseInt(step) + 1].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + ' - ' + this.intervals[parseInt(step) + 1].tag + '\"');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + ' y ' + this.intervals[parseInt(step) + 1].name;\r\n      } else if (this.intervals[parseInt(step)].tag === '' && this.intervals[parseInt(step) + 1].tag === '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '10');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + this.intervals[parseInt(step) + 1].name;\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + this.intervals[parseInt(step) + 1].tag + '\"');\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /** This function search a layer in the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  getMapLayer(layerSearch) {\r\n    return this.map.getLayers().filter(layer => layer.getImpl().legend === layerSearch.getImpl().legend)[0];\r\n  }\r\n\r\n  /** This function make the play animation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  playTimeline(next) {\r\n    const start = 0;\r\n    const end = this.intervals.length - 1;\r\n    const slider = document.querySelector('#input-slider');\r\n    let step = parseInt(slider.value);\r\n    if (this.running) {\r\n      document.querySelector('.m-timeline-button button').classList.add('timeline-control-siguiente');\r\n      document.querySelector('.m-timeline-button button').classList.remove('timeline-control-pausa');\r\n      clearTimeout(this.running);\r\n    }\r\n    if (!next) {\r\n      if (step > start && step < end && this.running) {\r\n        this.running = false;\r\n        return;\r\n      }\r\n      if (step > end) {\r\n        step = start;\r\n      }\r\n    }\r\n    if (step >= end) {\r\n      slider.value = 0;\r\n      this.changeSlider(slider);\r\n      return;\r\n    }\r\n    if (step < start) {\r\n      step = start;\r\n    }\r\n    slider.value = parseFloat(slider.value) + 1;\r\n    this.changeSlider(slider);\r\n    document.querySelector('.m-timeline-button button').classList.remove('timeline-control-siguiente');\r\n    document.querySelector('.m-timeline-button button').classList.add('timeline-control-pausa');\r\n    this.running = setTimeout((e) => this.playTimeline(true), this.speed * 1000);\r\n  }\r\n\r\n  /**\r\n   * This function remove the timeline layers\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeTimelineLayers() {\r\n    clearInterval(this.running);\r\n    this.intervals.forEach((interval) => {\r\n      this.map.removeLayers(this.getMapLayer(interval.service));\r\n    })\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof TimelineControl;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Timeline\r\n */\r\nimport 'assets/css/timeline';\r\nimport TimelineControl from './timelinecontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class Timeline extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'timeline';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-timeline';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * Posible values: TR | TL | BL | BR\r\n     * @type {String}\r\n     */\r\n    const positions = ['TR', 'TL', 'BL', 'BR'];\r\n    this.position = positions.includes(options.position) ? options.position : 'TR';\r\n\r\n    /**\r\n     * Intervals\r\n     * @public\r\n     * Value: Array with each interval attributes [name, tag, service]\r\n     * @type {String}\r\n     */\r\n    if (options !== undefined) {\r\n      if (M.utils.isString(options.intervals)) {\r\n        this.intervals = JSON.parse(options.intervals.replace(/!!/g, '[').replace(/¡¡/g, ']'));\r\n      } else if (M.utils.isArray(options.intervals)) {\r\n        this.intervals = options.intervals;\r\n      } else {\r\n        M.dialog.error(getValue('intervals_error'));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Animation of the timeline\r\n     * @public\r\n     * Value: true / false\r\n     * @type {boolean}\r\n     */\r\n    this.animation = options.animation;\r\n    if (this.animation === undefined) this.animation = true;\r\n\r\n    /**\r\n     * Speed of animation\r\n     * @public\r\n     * Value: 1 - 100\r\n     * @type {number}\r\n     */\r\n    this.speed = parseFloat(options.speed) || 1;\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new TimelineControl({\r\n      intervals: this.intervals,\r\n      animation: this.animation,\r\n      speed: this.speed,\r\n    });\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    this.panel_ = new M.ui.Panel('panelTimeline', {\r\n      collapsible: true,\r\n      position: M.ui.position[this.position],\r\n      className: this.className,\r\n      collapsedButtonClass: 'timeline-gestion-reloj2',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n  }\r\n\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.control_.removeTimelineLayers();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.layers, this.radius] = [null, null, null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @getter\r\n   * @api stable\r\n   * @return {Object}\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    const intervals = JSON.stringify(this.intervals).replace(/\\[/g, '!!').replace(/\\]/g, '¡¡');\r\n    return `${this.name}=${this.position}*!${intervals}*!${this.animation}*!${this.speed}`;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n  /**\r\n   * This\r\n   function compare\r\n   if pluging recieved by param is instance of M.plugin.Timeline\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.plugin} plugin to compare\r\n   * @api stable\r\n   */\r\n  equals(plugin) {\r\n    if (plugin instanceof Timeline) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import M$plugin$Timeline from '/home/fbmanas/Documentos/git/timeline/src/facade/js/timeline';\nimport M$control$TimelineControl from '/home/fbmanas/Documentos/git/timeline/src/facade/js/timelinecontrol';\nimport M$impl$control$TimelineControl from '/home/fbmanas/Documentos/git/timeline/src/impl/ol/js/timelinecontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Timeline = M$plugin$Timeline;\nwindow.M.control.TimelineControl = M$control$TimelineControl;\nwindow.M.impl.control.TimelineControl = M$impl$control$TimelineControl;\n"],"sourceRoot":""}